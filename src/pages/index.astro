---
import MainLayout from "~/layouts/Layout.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

const baasProviders = await getCollection("baasProvider");
---

<MainLayout
  description="Forget about decision paralysis. We help you find the best tech stack for your next project."
>
  <section
    class="hero relative overflow-hidden rounded-lg bg-gradient-to-br from-purple-700 via-indigo-600 to-blue-500 px-8 py-32 text-white shadow-2xl md:px-12"
  >
    <div class="container relative z-10 mx-auto max-w-4xl text-center">
      <h1
        class="animate-fade-in mb-8 text-4xl font-extrabold leading-tight tracking-tight md:text-6xl"
      >
        Welcome to <span class="text-yellow-300">StackChoice.dev</span>
      </h1>
      <p class="animate-fade-in mb-12 text-2xl leading-relaxed text-gray-100">
        Forget about <strong class="font-bold">decision paralysis.</strong> We help
        you find the best tech stack for your next project.
      </p>
      <a
        href="/baas-providers"
        class="group relative inline-flex items-center rounded-full bg-white px-6 py-3 font-semibold text-purple-600 transition-all duration-300 hover:scale-105 hover:bg-yellow-300 hover:text-purple-700"
      >
        <span
          class="particles particles-1 absolute left-0 top-1/2 -translate-y-1/2"
        ></span>
        <span
          class="particles particles-2 absolute left-0 top-1/2 -translate-y-1/2"
        ></span>
        <span
          class="particles particles-3 absolute left-0 top-1/2 -translate-y-1/2"
        ></span>
        <span
          class="particles particles-4 absolute left-0 top-1/2 -translate-y-1/2"
        ></span>
        <Icon
          name="mdi:rocket-launch"
          class="mr-3 h-6 w-6 transition-transform duration-300 group-hover:rotate-45"
        />
        <span class="relative text-lg">
          Explore Backend Providers
          <span
            class="absolute bottom-0 left-0 h-0.5 w-0 bg-purple-700 transition-all duration-300 group-hover:w-full"
          ></span>
        </span>
      </a>
    </div>
    <div class="absolute inset-0 overflow-hidden">
      {
        [...Array(50)].map((_, index) => (
          <div
            class={`animate-float-${["slow", "medium", "fast"][index % 3]} absolute rounded-full bg-white opacity-10`}
            style={{
              width: `${Math.random() * 20 + 10}px`,
              height: `${Math.random() * 20 + 10}px`,
              left: `${Math.random() * 100}%`,
              top: `${Math.random() * 100}%`,
              animationDelay: `${Math.random() * 5}s`,
            }}
          />
        ))
      }
    </div>
  </section>
  <section class="relative mt-12 overflow-hidden py-12">
    <h2 class="mb-12 text-center text-4xl font-bold text-gray-800">
      Featured Platforms
    </h2>
    <div class="flex flex-wrap justify-center gap-16">
      {
        baasProviders.map((provider, index) => (
          <div class="group relative transform transition-transform duration-300 hover:scale-110">
            <a href={`/baas-providers/${provider.data.slug}`}>
              <Image
                src={provider.data.logo}
                alt={provider.data.name}
                width={60}
                height={60}
                format="webp"
                loading="eager"
                class={`animate-fade-in opacity-0 transition-all duration-300`}
                style={`animation-delay: ${index * 100}ms;`}
              />
            </a>
          </div>
        ))
      }
    </div>
  </section>
</MainLayout>

<style>
  .particles {
    width: 2px;
    height: 2px;
    background: transparent;
    box-shadow:
      0 0 #fde68a,
      0 0 #fde68a,
      0 0 #fde68a,
      0 0 #fde68a,
      0 0 #fde68a;
  }

  .group:hover .particles-1 {
    animation: particles 0.6s ease-in-out infinite;
  }

  .group:hover .particles-2 {
    animation: particles 0.6s ease-in-out infinite 0.2s;
  }

  .group:hover .particles-3 {
    animation: particles 0.6s ease-in-out infinite 0.4s;
  }

  .group:hover .particles-4 {
    animation: particles 0.6s ease-in-out infinite 0.6s;
  }

  @keyframes particles {
    0% {
      box-shadow:
        0 0 #fde68a,
        0 0 #fde68a,
        0 0 #fde68a,
        0 0 #fde68a,
        0 0 #fde68a;
    }
    100% {
      box-shadow:
        -20px -8px 0 0 #fde68a,
        -40px 0 0 0 #fde68a,
        -60px 8px 0 0 #fde68a,
        -80px -4px 0 0 #fde68a,
        -100px 4px 0 0 #fde68a;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-40px);
    }
  }

  @keyframes fade-in {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out forwards;
  }

  .animate-float-slow {
    animation: float 8s ease-in-out infinite;
  }

  .animate-float-medium {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-fast {
    animation: float 4s ease-in-out infinite;
  }
</style>
